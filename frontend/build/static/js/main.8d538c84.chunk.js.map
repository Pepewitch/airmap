{"version":3,"sources":["assets/pttlogo.png","hooks/useAction.js","features/pollution-image/const.js","features/pollution-image/redux.js","features/pollution-image/NavBar.jsx","features/pollution-image/SideBar.jsx","features/screen-size/useScreenSize.js","features/pollution-image/ImagesCarousel.jsx","features/pollution-image/ImageItem.jsx","features/pollution-image/ImageList.jsx","features/pollution-image/Image3DItem.jsx","features/pollution-image/Image3DList.jsx","features/pollution-image/PollutionImage.jsx","features/screen-size/redux.js","redux.js","features/not-found/NotFound.jsx","App.jsx","features/screen-size/useScreenSizeSubscription.js","serviceWorker.js","index.js"],"names":["module","exports","useAction","action","dispatch","useDispatch","useCallback","TYPE","initialState","sidebar","dimension","cropPosition","x","y","cropScale","items","startDate","moment","endDate","type","level","ACTION","toggleSidebarAction","itemChangeAction","item","index","payload","itemRemoveAction","cropPositionChangeAction","cropScaleChangeAction","dimensionChangeAction","Container","styled","div","Spacer","NavBar","toggleSidebar","shape","icon","size","onClick","Text","Typography","Option","Select","props","open","Inner","CloseButtonContainer","LogoContainer","LogoImage","img","ActionContainer","ControllerContainer","DatePickerContainer","ZoomActionContainer","OptionalText","Logo","src","ptt","CloseButton","levels","Array","fill","map","_","key","value","Controller","onChange","strong","format","style","width","marginBottom","placeholder","Action","useSelector","state","pollution","ZoomAction","scale","onScaleChange","min","max","nextScale","SideBar","useScreenSize","get","ImageContainer","StyledCarousel","Carousel","transitionDelay","DirectionContainer","direction","AutoplaySwitchContainer","Direction","AutoplaySwitch","checkedChildren","unCheckedChildren","ImagesCarousel","images","carouselRef","useRef","onLeftClick","current","prev","onRightClick","next","useState","autoplay","setAutoPlay","intervalRef","useEffect","setInterval","window","clearInterval","position","onPositionChange","responsiveWidth","effect","swipe","ref","image","height","border","checked","e","Title","ItemContainer","ImageItem","data","setData","loading","setLoading","query","toISOString","toString","slice","axios","then","res","useImages","length","ImageList","StyledIframe","iframe","Indicator","active","ShowingItem","files","setSrc","findIndex","f","bottom","display","flexFlow","justifyContent","alignItems","Image3DItem","use3DImages","Image3DList","TabPane","Tabs","Row","StyledTabs","PollutionImage","change","activeKey","tab","innerWidth","screenSizeSubscribeAction","rootReducer","combineReducers","splice","screenSize","NotFound","to","store","createStore","history","createBrowserHistory","Subscription","children","setWidth","event","addEventListener","removeEventListener","useScreenSizeSubscription","App","path","exact","component","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8d538c84.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pttlogo.92b0ab0d.png\";","import { useDispatch } from \"react-redux\";\nimport { useCallback } from \"react\";\n\nexport function useAction(action) {\n  const dispatch = useDispatch();\n  return useCallback((...e) => dispatch(action(...e)), [action, dispatch]);\n}\n","export const TYPE = {\n  \"1H1GALL\": \"1H1GALL\",\n  \"24H1GALL\": \"24H1GALL\",\n  PE00GALL: \"PE00GALL\"\n};\n\nexport const NOT_SPECIFIC_LEVEL = \"ไม่ระบุ Level\";\n\nexport const API_ENDPOINT = \"http://34.87.95.181:3000\";\n\nexport const IMAGE_ENDPOINT = \"http://34.87.95.181\";\n","import moment from \"moment\";\nimport { TYPE, NOT_SPECIFIC_LEVEL } from \"./const\";\n\nconst initialState = {\n  sidebar: false,\n  dimension: \"2D\",\n  cropPosition: {\n    x: 0.5,\n    y: 0.5\n  },\n  cropScale: 1,\n  items: [\n    {\n      startDate: moment(),\n      endDate: moment(),\n      type: TYPE[\"1H1GALL\"],\n      level: NOT_SPECIFIC_LEVEL\n    }\n  ]\n};\n\nconst ACTION = {\n  POLLUTION_IMAGE_TOGGLE_SIDEBAR: \"POLLUTION_IMAGE_TOGGLE_SIDEBAR\",\n  POLLUTION_IMAGE_ITEM_CHANGE: \"POLLUTION_IMAGE_ITEM_CHANGE\",\n  POLLUTION_IMAGE_ITEM_REMOVE: \"POLLUTION_IMAGE_ITEM_REMOVE\",\n  POLLUTION_IMAGE_ITEM_ADD: \"POLLUTION_IMAGE_ITEM_ADD\",\n  POLLUTION_IMAGE_CROP_POSITION_CHANGE: \"POLLUTION_IMAGE_CROP_POSITION_CHANGE\",\n  POLLUTION_IMAGE_CROP_SCALE_CHANGE: \"POLLUTION_IMAGE_CROP_SCALE_CHANGE\",\n  POLLUTION_IMAGE_DIMENSION_CHANGE: \"POLLUTION_IMAGE_DIMENSION_CHANGE\"\n};\n\nexport const toggleSidebarAction = () => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_TOGGLE_SIDEBAR\n  };\n};\n\nexport const itemChangeAction = (item, index) => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_ITEM_CHANGE,\n    payload: {\n      index,\n      item\n    }\n  };\n};\n\nexport const itemRemoveAction = (item, index) => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_ITEM_REMOVE,\n    payload: {\n      index,\n      item\n    }\n  };\n};\n\nexport const itemAddAction = () => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_ITEM_ADD,\n    payload: {\n      date: null,\n      level: 0\n    }\n  };\n};\n\nexport const cropPositionChangeAction = cropPosition => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_CROP_POSITION_CHANGE,\n    payload: {\n      cropPosition\n    }\n  };\n};\n\nexport const cropScaleChangeAction = cropScale => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_CROP_SCALE_CHANGE,\n    payload: {\n      cropScale\n    }\n  };\n};\n\nexport const dimensionChangeAction = dimension => {\n  return {\n    type: ACTION.POLLUTION_IMAGE_DIMENSION_CHANGE,\n    payload: { dimension }\n  };\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ACTION.POLLUTION_IMAGE_TOGGLE_SIDEBAR:\n      return { ...state, sidebar: !state.sidebar };\n    case ACTION.POLLUTION_IMAGE_ITEM_CHANGE: {\n      state.items.splice(action.payload.index, 1, action.payload.item);\n      return { ...state, items: [...state.items] };\n    }\n    case ACTION.POLLUTION_IMAGE_ITEM_REMOVE: {\n      state.items.splice(action.payload.index, 1);\n      return { ...state, items: [...state.items] };\n    }\n    case ACTION.POLLUTION_IMAGE_ITEM_ADD:\n      return { ...state, items: [...state.items, action.payload] };\n    case ACTION.POLLUTION_IMAGE_CROP_POSITION_CHANGE:\n      return { ...state, cropPosition: action.payload.cropPosition };\n    case ACTION.POLLUTION_IMAGE_CROP_SCALE_CHANGE:\n      return { ...state, cropScale: action.payload.cropScale };\n    case ACTION.POLLUTION_IMAGE_DIMENSION_CHANGE:\n      return { ...state, dimension: action.payload.dimension };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Button } from \"antd\";\nimport { useAction } from \"hooks/useAction\";\nimport { toggleSidebarAction } from \"./redux\";\n\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 56px;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  padding: 0 16px;\n  z-index: 1000;\n`;\n\nconst Spacer = styled.div`\n  width: 100%;\n  height: 56px;\n  background-color: white;\n  @media (min-width: 801px) {\n    display: none;\n  }\n`;\n\nexport const NavBar = () => {\n  const toggleSidebar = useAction(toggleSidebarAction);\n  return (\n    <Spacer>\n      <Container>\n        <Button\n          type=\"link\"\n          shape=\"circle\"\n          icon=\"menu\"\n          size=\"large\"\n          onClick={toggleSidebar}\n        />\n      </Container>\n    </Spacer>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport { useAction } from \"hooks/useAction\";\nimport {\n  toggleSidebarAction,\n  itemChangeAction,\n  itemRemoveAction,\n  itemAddAction,\n  cropScaleChangeAction\n} from \"./redux\";\nimport { Button, Divider, DatePicker, Select, Typography, Slider } from \"antd\";\nimport ptt from \"assets/pttlogo.png\";\nimport { TYPE, NOT_SPECIFIC_LEVEL } from \"./const\";\n\nconst { Text } = Typography;\nconst { Option } = Select;\n\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 300px;\n  z-index: 1100;\n  background-color: white;\n  transition: all 0.4s ease-in-out;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n  overflow-y: auto;\n  @media (max-width: 800px) {\n    transform: translate3d(${props => (props.open ? 0 : -400)}px, 0, 0);\n  }\n`;\n\nconst Inner = styled.div`\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  width: 100%;\n  padding: 16px 0;\n`;\n\nconst Spacer = styled.div`\n  width: 300px;\n  flex-shrink: 0;\n  height: 100vh;\n  @media (max-width: 800px) {\n    width: 0px;\n  }\n`;\n\nconst CloseButtonContainer = styled.div`\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  @media (min-width: 801px) {\n    display: none;\n  }\n`;\n\nconst LogoContainer = styled.div`\n  width: 60%;\n  padding: 0 16px;\n`;\nconst LogoImage = styled.img`\n  width: 100%;\n  height: auto;\n`;\nconst ActionContainer = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n  padding: 0 16px;\n`;\nconst ControllerContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 16px;\n  border-radius: 8px;\n  border: 1px solid #eee;\n  margin-bottom: 16px;\n  .remove-button {\n    opacity: 0;\n    transition: 0.1s;\n    transition-delay: 0.2s;\n  }\n  &:hover {\n    .remove-button {\n      opacity: 1;\n\n      transition: 0s;\n      transition-delay: 0s;\n    }\n  }\n`;\nconst RemoveButtonContainer = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate3d(50%, -50%, 0);\n`;\n\nconst DatePickerContainer = styled.div`\n  margin-bottom: 8px;\n  width: 100%;\n  .ant-calendar-picker {\n    width: 100%;\n  }\n`;\n\nconst ZoomActionContainer = styled.div`\n  width: 100%;\n  padding: 0 16px;\n`;\n\nconst OptionalText = styled(Text)`\n  color: #888 !important;\n  font-size: 0.6em;\n`;\n\nconst RemoveButton = props => {\n  return (\n    <RemoveButtonContainer>\n      <Button\n        type=\"danger\"\n        shape=\"circle\"\n        icon=\"close\"\n        size=\"small\"\n        {...props}\n      />\n    </RemoveButtonContainer>\n  );\n};\n\nconst Logo = () => {\n  return (\n    <LogoContainer>\n      <LogoImage src={ptt} />\n    </LogoContainer>\n  );\n};\n\nconst CloseButton = () => {\n  const toggleSidebar = useAction(toggleSidebarAction);\n  return (\n    <CloseButtonContainer>\n      <Button\n        type=\"link\"\n        shape=\"circle\"\n        icon=\"close\"\n        size=\"large\"\n        onClick={toggleSidebar}\n      />\n    </CloseButtonContainer>\n  );\n};\n\nconst levels = new Array(42).fill(0).map((_, index) => (\n  <Option key={index} value={index}>\n    {index}\n  </Option>\n));\n\nconst Controller = ({ item, index }) => {\n  const onChange = useAction(itemChangeAction);\n  const onRemove = useAction(itemRemoveAction);\n  const onStartDatePickerChange = startDate => {\n    onChange({ ...item, startDate }, index);\n  };\n  const onEndDatePickerChange = endDate => {\n    onChange({ ...item, endDate }, index);\n  };\n  const onRemoveButtonClick = () => {\n    onRemove(item, index);\n  };\n  const onLevelChange = level => {\n    onChange({ ...item, level }, index);\n  };\n  const onTypeChange = type => {\n    onChange({ ...item, type }, index);\n  };\n  return (\n    <ControllerContainer>\n      {/* <RemoveButton className=\"remove-button\" onClick={onRemoveButtonClick} /> */}\n      <DatePickerContainer>\n        <Text strong>\n          Select Start Date <OptionalText>(Optional)</OptionalText>\n        </Text>\n        <DatePicker\n          onChange={onStartDatePickerChange}\n          value={item.startDate}\n          format=\"DD MMMM YYYY\"\n        />\n      </DatePickerContainer>\n      <DatePickerContainer>\n        <Text strong>\n          Select End Date <OptionalText>(Optional)</OptionalText>\n        </Text>\n        <DatePicker\n          onChange={onEndDatePickerChange}\n          value={item.endDate}\n          format=\"DD MMMM YYYY\"\n        />\n      </DatePickerContainer>\n      <Text strong>Select Type</Text>\n      <Select\n        style={{ width: \"100%\", marginBottom: 8 }}\n        placeholder=\"Level\"\n        value={item.type}\n        onChange={onTypeChange}\n      >\n        <Option value={TYPE[\"1H1GALL\"]}>1H1GALL</Option>\n        <Option value={TYPE[\"24H1GALL\"]}>24H1GALL</Option>\n        <Option value={TYPE[\"PE00GALL\"]}>PE00GALL</Option>\n      </Select>\n      <Text strong>Select Level</Text>\n      <Select\n        style={{ width: \"100%\" }}\n        placeholder=\"Level\"\n        value={item.level}\n        onChange={onLevelChange}\n      >\n        <Option value={NOT_SPECIFIC_LEVEL}>{NOT_SPECIFIC_LEVEL}</Option>\n        {levels}\n      </Select>\n    </ControllerContainer>\n  );\n};\n\nconst AddItem = () => {\n  const onClick = useAction(itemAddAction);\n  return (\n    <Button type=\"primary\" shape=\"round\" icon=\"plus\" onClick={onClick}>\n      Add\n    </Button>\n  );\n};\n\nconst Action = () => {\n  const items = useSelector(state => state.pollution.items);\n  return (\n    <ActionContainer>\n      {items.map((item, index) => (\n        <Controller item={item} index={index} key={index} />\n      ))}\n      {/* <AddItem /> */}\n    </ActionContainer>\n  );\n};\n\nconst ZoomAction = () => {\n  const scale = useSelector(state => state.pollution.cropScale);\n  const onScaleChange = useAction(cropScaleChangeAction);\n  return (\n    <ZoomActionContainer>\n      <Text strong>Zoom</Text>\n      <Slider\n        value={scale * 100}\n        min={100}\n        max={500}\n        onChange={nextScale => onScaleChange(nextScale / 100)}\n      />\n    </ZoomActionContainer>\n  );\n};\n\nexport const SideBar = () => {\n  const sidebar = useSelector(state => state.pollution.sidebar);\n  return (\n    <Spacer>\n      <Container open={sidebar}>\n        <Inner>\n          <CloseButton />\n          <Logo />\n          <Divider />\n          <ZoomAction />\n          <Divider />\n          <Action />\n        </Inner>\n      </Container>\n    </Spacer>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport _ from \"lodash\";\n\nexport const useScreenSize = () => {\n  const width = useSelector(state => _.get(state, \"screenSize.width\"));\n  return width;\n};\n","import React, { useRef, useCallback, useState, useEffect } from \"react\";\nimport { Button, Carousel, Switch } from \"antd\";\nimport styled from \"styled-components\";\nimport AvatarEditor from \"react-avatar-editor\";\nimport { cropPositionChangeAction } from \"./redux\";\nimport { useAction } from \"hooks/useAction\";\nimport { useSelector } from \"react-redux\";\n\nconst ImageContainer = styled.div`\n  padding-bottom: 17px;\n  background: #1890ff;\n  position: relative;\n`;\n\nconst StyledCarousel = styled(Carousel)`\n  .slick-slide:not(.slick-active) {\n    transition-delay: ${props => props.transitionDelay}ms !important;\n  }\n`;\nconst DirectionContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  ${props => (props.direction === \"left\" ? \"left: 16px;\" : \"right: 16px;\")}\n`;\nconst AutoplaySwitchContainer = styled.div`\n  position: absolute;\n  top: 4px;\n  right: 4px;\n`;\n\nconst Direction = ({ direction, ...props }) => {\n  return (\n    <DirectionContainer direction={direction}>\n      <Button shape=\"circle\" icon={direction} type=\"default\" {...props} />\n    </DirectionContainer>\n  );\n};\n\nconst AutoplaySwitch = props => {\n  return (\n    <AutoplaySwitchContainer>\n      <Switch checkedChildren=\"Play\" unCheckedChildren=\"Pause\" {...props} />\n    </AutoplaySwitchContainer>\n  );\n};\n\nconst transitionDelay = 600;\n\nexport const ImagesCarousel = ({ images, width }) => {\n  const carouselRef = useRef(null);\n  const onLeftClick = () => carouselRef.current && carouselRef.current.prev();\n  const onRightClick = useCallback(\n    () => carouselRef.current && carouselRef.current.next(),\n    [carouselRef]\n  );\n  const [autoplay, setAutoPlay] = useState(false);\n  const intervalRef = useRef(null);\n  useEffect(() => {\n    if (autoplay && !intervalRef.current) {\n      intervalRef.current = setInterval(() => {\n        onRightClick();\n      }, transitionDelay);\n    } else if (!autoplay && intervalRef.current) {\n      window.clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n    return () => {\n      if (intervalRef.current) window.clearInterval(intervalRef.current);\n    };\n  }, [autoplay, onRightClick]);\n  const position = useSelector(state => state.pollution.cropPosition);\n  const scale = useSelector(state => state.pollution.cropScale);\n  const onPositionChange = useAction(cropPositionChangeAction);\n  const responsiveWidth = (width > 600 ? 600 : width) - 32;\n  return (\n    <StyledCarousel\n      effect=\"fade\"\n      swipe={false}\n      ref={carouselRef}\n      transitionDelay={transitionDelay}\n    >\n      {images.map(image => (\n        <ImageContainer key={image}>\n          <AvatarEditor\n            image={image}\n            width={responsiveWidth}\n            height={responsiveWidth}\n            border={0}\n            scale={scale}\n            position={position}\n            onPositionChange={onPositionChange}\n          />\n          <AutoplaySwitch checked={autoplay} onChange={e => setAutoPlay(e)} />\n          <Direction direction=\"left\" onClick={onLeftClick} />\n          <Direction direction=\"right\" onClick={onRightClick} />\n        </ImageContainer>\n      ))}\n    </StyledCarousel>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Typography, Button, Spin } from \"antd\";\nimport styled from \"styled-components\";\nimport { ImagesCarousel } from \"./ImagesCarousel\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport { API_ENDPOINT, IMAGE_ENDPOINT } from \"./const\";\n\nconst { Title } = Typography;\n\nconst ItemContainer = styled.div`\n  width: 100%;\n`;\n\nconst useImages = item => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(true);\n    setData([]);\n\n    const { startDate, endDate, type, level } = item;\n    const query = (\n      (startDate ? `startDate=${startDate.toISOString()}&` : \"\") +\n      (endDate ? `endDate=${endDate.toISOString()}&` : \"\") +\n      (type ? `type=${type}&` : \"\") +\n      (level.toString() ? `level=${level}&` : \"\")\n    ).slice(0, -1);\n\n    axios\n      .get(`${API_ENDPOINT}/image2d?${query}`)\n      .then(res => res.data)\n      .then(data => {\n        setData(data.images.map(image => `${IMAGE_ENDPOINT}/${image}`));\n        setLoading(false);\n      });\n  }, [item]);\n  return [data, loading];\n};\n\nexport const ImageItem = ({ item, width }) => {\n  const [data, loading] = useImages(item);\n  return (\n    <ItemContainer>\n      {/* <div style={{ display: \"flex\" }}>\n        <Title level={3}>{item.startDate.format(\"dddd, Do MMMM YYYY\")}</Title>\n      </div> */}\n      {loading ? (\n        <Spin />\n      ) : data.length > 0 ? (\n        <ImagesCarousel images={data} width={width} />\n      ) : (\n        <Title level={3}>ไม่พบข้อมูล</Title>\n      )}\n    </ItemContainer>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport { useScreenSize } from \"features/screen-size/useScreenSize\";\nimport { ImageItem } from \"./ImageItem\";\nimport { Divider } from \"antd\";\n\nconst Container = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  max-width: 600px;\n  padding: 16px;\n`;\n\nexport const ImageList = () => {\n  const items = useSelector(state => state.pollution.items);\n  const width = useScreenSize();\n  return (\n    <Container>\n      {items.map((item, index) => (\n        <div key={index}>\n          <ImageItem item={item} width={width} />\n          <Divider />\n        </div>\n      ))}\n    </Container>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Divider, Spin, Button, Typography } from \"antd\";\nimport axios from \"axios\";\nimport { IMAGE_ENDPOINT, API_ENDPOINT } from \"./const\";\n\nconst { Title } = Typography;\n\nconst StyledIframe = styled.iframe`\n  width: 100%;\n  height: calc(100vh - 200px);\n  border: 1px solid #eee;\n  position: relative;\n`;\n\nconst DirectionContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  ${props => (props.direction === \"left\" ? \"left: 16px;\" : \"right: 16px;\")}\n`;\n\nconst Direction = ({ direction, ...props }) => {\n  return (\n    <DirectionContainer direction={direction}>\n      <Button shape=\"circle\" icon={direction} type=\"default\" {...props} />\n    </DirectionContainer>\n  );\n};\n\nconst Indicator = styled.div`\n  width: ${props => (props.active ? \"16px\" : \"12px\")};\n  height: ${props => (props.active ? \"16px\" : \"12px\")};\n  margin: 8px;\n  border-radius: 50%;\n  background: ${props =>\n    props.active ? \"rgba(24, 144, 255, 1)\" : \"rgba(24, 144, 255, 0.6)\"};\n  cursor: pointer;\n`;\n\nconst ShowingItem = ({ files }) => {\n  const [src, setSrc] = useState(files[0]);\n  useEffect(() => {\n    setSrc(files[0]);\n  }, [files]);\n\n  const onLeftClick = () =>\n    setSrc(files[(files.findIndex(f => f === src) - 1) % files.length]);\n  const onRightClick = () =>\n    setSrc(files[(files.findIndex(f => f === src) + 1) % files.length]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <StyledIframe src={src} />\n      <Direction direction=\"left\" onClick={onLeftClick} />\n      <Direction direction=\"right\" onClick={onRightClick} />\n      <div\n        style={{\n          position: \"absolute\",\n          bottom: 4,\n          display: \"flex\",\n          flexFlow: \"row nowrap\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          width: \"100%\"\n        }}\n      >\n        {files.map(f => (\n          <Indicator key={f} active={f === src} onClick={() => setSrc(f)} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst use3DImages = item => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(true);\n    setData([]);\n\n    const { startDate, endDate, type, level } = item;\n    const query = (\n      (startDate ? `startDate=${startDate.toISOString()}&` : \"\") +\n      (endDate ? `endDate=${endDate.toISOString()}&` : \"\") +\n      (type ? `type=${type}&` : \"\") +\n      (level.toString() ? `level=${level}&` : \"\")\n    ).slice(0, -1);\n\n    axios\n      .get(`${API_ENDPOINT}/image3d?${query}`)\n      .then(res => res.data)\n      .then(data => {\n        setData(data.images.map(image => `${IMAGE_ENDPOINT}/${image}`));\n        setLoading(false);\n      });\n  }, [item]);\n  return [data, loading];\n};\n\nexport const Image3DItem = ({ item }) => {\n  const [data, loading] = use3DImages(item);\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      {loading ? (\n        <Spin />\n      ) : data.length > 0 ? (\n        <ShowingItem files={data} />\n      ) : (\n        <Title level={3}>ไม่พบข้อมูล</Title>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport { useScreenSize } from \"features/screen-size/useScreenSize\";\nimport { ImageItem } from \"./ImageItem\";\nimport { Divider } from \"antd\";\nimport { Image3DItem } from \"./Image3DItem\";\n\nconst Container = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  padding: 16px 0;\n`;\n\nexport const Image3DList = () => {\n  const items = useSelector(state => state.pollution.items);\n  const width = useScreenSize();\n  return (\n    <Container>\n      {items.map((item, index) => (\n        <div key={index}>\n          <Image3DItem item={item} width={width} />\n          <Divider />\n        </div>\n      ))}\n    </Container>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { NavBar } from \"./NavBar\";\nimport { SideBar } from \"./SideBar\";\nimport { ImageList } from \"./ImageList\";\nimport { Tabs } from \"antd\";\nimport { Image3DList } from \"./Image3DList\";\nimport { useAction } from \"hooks/useAction\";\nimport { useSelector } from \"react-redux\";\nimport { dimensionChangeAction } from \"./redux\";\n\nconst { TabPane } = Tabs;\n\nconst Row = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n`;\n\nconst StyledTabs = styled(Tabs)`\n  width: 100%;\n`;\n\nexport const PollutionImage = () => {\n  const dimension = useSelector(state => state.pollution.dimension);\n  const change = useAction(dimensionChangeAction);\n  return (\n    <div>\n      <NavBar />\n      <Row>\n        <SideBar />\n        <StyledTabs activeKey={dimension} onChange={tab => change(tab)}>\n          <TabPane tab=\"2D\" key=\"2D\">\n            <ImageList />\n          </TabPane>\n          <TabPane tab=\"3D\" key=\"3D\">\n            {dimension === \"3D\" && <Image3DList />}\n          </TabPane>\n        </StyledTabs>\n      </Row>\n    </div>\n  );\n};\n","const initialState = {\n  width: window.innerWidth\n};\n\nexport const ACTION = {\n  SCREEN_SIZE_SUBSCRIBE: \"SCREEN_SIZE_SUBSCRIBE\"\n};\n\nexport const screenSizeSubscribeAction = width => {\n  return {\n    type: ACTION.SCREEN_SIZE_SUBSCRIBE,\n    payload: width\n  };\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ACTION.SCREEN_SIZE_SUBSCRIBE:\n      return { ...state, width: action.payload };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { reducer as pollution } from \"./features/pollution-image/redux.js\";\nimport { reducer as screenSize } from \"./features/screen-size/redux\";\n\nexport const rootReducer = combineReducers({ pollution, screenSize });\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  padding: 24px;\n`;\n\nexport const NotFound = () => {\n  return (\n    <Container>\n      Not Found Page, <Link to=\"/\">Go back to main page.</Link>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { Switch, Route, Router, Redirect } from \"react-router-dom\";\nimport { PollutionImage } from \"./features/pollution-image/PollutionImage\";\nimport \"normalize.css\";\nimport \"antd/dist/antd.css\";\nimport { createStore } from \"redux\";\nimport { rootReducer } from \"./redux\";\nimport { Provider } from \"react-redux\";\nimport { createBrowserHistory } from \"history\";\nimport { NotFound } from \"./features/not-found/NotFound\";\nimport \"index.css\";\nimport { useScreenSizeSubscription } from \"features/screen-size/useScreenSizeSubscription\";\n\nconst store = createStore(rootReducer);\nconst history = createBrowserHistory();\n\nconst Subscription = ({ children }) => {\n  useScreenSizeSubscription();\n  return children;\n};\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <Subscription>\n        <Router history={history}>\n          <Switch>\n            <Route path=\"/\" exact component={PollutionImage} />\n            <Route path=\"/not-found\" component={NotFound} />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </Router>\n      </Subscription>\n    </Provider>\n  );\n};\n\nexport default App;\n","import { useAction } from \"hooks/useAction\";\nimport { useEffect } from \"react\";\nimport { screenSizeSubscribeAction } from \"./redux\";\n\nexport const useScreenSizeSubscription = () => {\n  const setWidth = useAction(screenSizeSubscribeAction);\n  useEffect(() => {\n    const event = window.addEventListener(\"resize\", () => {\n      setWidth(window.innerWidth);\n    });\n    return () => window.removeEventListener(event);\n  }, []);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}